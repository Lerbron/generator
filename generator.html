<!DOCTYPE html><html lang="en"><head>  <meta charset="UTF-8">  <title>generator</title></head><body><ul>  <!--<li></li>-->  <!--<li></li>-->  <!--<li></li>-->  <!--<li></li>-->  <!--<li></li>--></ul><script>  document.getElementsByTagName('ul')[0].style.background = 'red';  document.getElementsByTagName('ul')[0].style.height = '100px';  var lis = document.getElementsByTagName('li');  //console.log(lis);//  for(var i = 0,len = lis.length; i< len; i ++ ){//  	lis[i].innerHTML = i;//  }  Array.from(lis).map((li,idx) => {  // 通过Array.from 将类数组的对象转化为真正的数组  	li.innerHTML = idx;  });  var arr2 = [1,3,45,3];  for (let [idx,val] of arr2.entries()){  	console.log(idx + '---' + val)  }  /*   内部有两个yield语句“hello”和“world”，即该函数有三个状态：hello，world和return语句（结束执行）   generator 函数与普通函数一样，但有两个特：关键字function与函数名之间有*；函数体内部使用yield语句。   调用generator函数后，并不马上执行，返回的是一个指针对象。需要通过调用next（）方法，使指针往下移。    yield 语句：      遇到yield语句就会暂停执行后面的语句，并将紧跟yield后面的那个表达式的值，作为返回对象的value值；      下次调用next()方法，再继续往下执行，知道遇到yield语句；      如果没有遇到yield语句，就一直运行到函数结束，知道遇见return语句，并将return后面的表达式的值，作为返回对象的value属性值；      如果该函数没有return语句，则返回对象的value属性值为undefined。   */  function* Generator() {    yield 'hello';    yield 'world';    return 'end';  }  var h = Generator();  console.log(h.next());   // { value:'hello',done: false}  console.log(h.next());   // { value:'world',done: false}  console.log(h.next());   // { value:'end',done: true}    function *fib(max) {    var t,      a=0,      b=1,      n=1;    while (n<max){    	yield a;    	t= a + b;    	a = b;      b = t;      n++;    }  }  var fn = fib(5);  for(var val of fib(5)){  	console.log(val)  }  //  var arr = [2,3,4,5,2];//  for ( i in arr){//  	console.log('for ... in : ' + i);//  	console.log('for ...in 的值 : ' + arr[i]);////  }//  for (i of arr){//  	//console.log('i of arr : ' + i);//  	console.log(`for ... of : ${i}`);//  }//  var y = 0;  function *add(x) {    yield y = x + 1;    yield y = y + 2;    yield  y = y + 3;    return y;  }  var fn1 = add(2);  var value = fn1.next();  console.log('...',value.value);  let value1 = fn1.next();  console.log('...',value1.value);  let value2 = fn1.next();  console.log('...',value2.value);  let value3 = fn1.next();  console.log('...',value3.value);  //console.log(Promise)  // 异步加载，  function promise() {    return Promise.resolve(function () {      console.log('cheng gong....');      return fetch('https://facebook.github.io/react-native/movies.json').then(function(response) { return response.json(); })    }())      //  自执行  }  //promise().then(res => console.log(res));  function *generatorFunc() {    yield fetch('https://facebook.github.io/react-native/movies.json').then(function(response) { return response.json();});  }  var fn2 = generatorFunc();  var Data = fn2.next();  Data.value.then( res => {console.log(res);console.log(res.movies)});</script></body></html>